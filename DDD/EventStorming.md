# Event Storming
```md
事件风暴是一项团队活动，旨在通过领域事件识别出聚合根，进而划分微服务的限界上下文。
在活动中，团队先通过头脑风暴的形式罗列出领域中所有的领域事件，整合之后形成最终的领域事件集合，
然后对于每一个事件，标注出导致该事件的命令（Command），再然后为每个事件标注出命令发起方的角色，
命令可以是用户发起，也可以是第三方系统调用或者是定时器触发等。

最后对事件进行分类整理出聚合根以及限界上下文。
```
## 事件风暴分析法
```md
但是在重构过程中，也没有人可以说清楚现有系统的逻辑，如何重构成为了一个难题。
重构过程我们引入了咨询公司给我们的方法，采用了事件风暴的办法。
```
```md
通过对领域中所发生的事情（也就是领域事件）来探索这个领域，并且使用便签来描述领域中的事件，
这些便签会沿着时间轴贴到一个很大的建模面板上。
```
```md
举例来说，能够引发事件的事情包括用户行为、外部系统所发生的事情以及时间的流逝。
事件也有助于找到领域的边界，对术语的不同阐述可能就意味着存在边界。
```
* 准备工作，四色贴纸：
```md
橙色：事件，某个动作的结果，以“XX已XX”的方式表示，比如“用户信息已查询”
蓝色：属性，事件相关的输入、输出数据等
黄色：命令，某个动作，比如“查找用户信息”
绿色：实体，命令的触发者
```
* 开始梳理业务，将结果贴到白版上
* 继续深入梳理，将整个过程的模型、关键数据等梳理出来，贴在白板上
* 确定重构指导思路，执行重构动作，重构的同时引入单元测试保障重构的质量
